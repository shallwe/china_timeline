<!DOCTYPE html>
<html>
<head>
    <title>timeline后台 - timeline</title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/admin.css" rel="stylesheet/less">
    <script src="/static/js/libs/jquery-1.7.2.min.js"></script>
    <script src="/static/js/libs/bootstrap-datepicker.js"></script>
    <script src="/static/js/libs/angular.js"></script>
    <script src="/static/js/hote/project.js"></script>
</head>
<body>

<div class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand">timeline 卡片管理</a>
        </div>

        <div class="collapse navbar-collapse pull-right">
            <ul class="nav navbar-nav">
                <li><a>{{user.name}}</a></li>
                <li><a href="/team/logout">退出登录</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-xs-9" id="lister">
            <div class="jumbotron">
                <h1>
                    {{project.name}}
                </h1>
                <p>
                    {{project.desc}}
                </p>
                <p>
                    开始于  {{project.start.year}} {{project.start.month}} {{project.start.day}}
                </p>
            </div>
            <table class="table table-striped" ng-controller="CardListController">
                <thead>
                <tr>
                    <th>卡片名称</th>
                    <th>卡片描述</th>
                    <th>卡片媒体地址</th>
                    <th>卡片媒体标题</th>
                    <th>卡片媒体描述</th>
                    <th>卡片开始时间</th>
                    <th>卡片结束时间</th>
                </tr>
                </thead>
                <tbody >
                <tr ng-repeat="card in $root.card_list">
                    <th>
                        [[card.title]]
                    </th>
                    <td>
                        [[card.desc]]
                    </td>
                    <td>
                        <a href="[[card.media.src]]" target="_blank">
                            [[card.media.src]]
                        </a>
                    </td>
                    <td>
                        [[card.media.title]]
                    </td>
                    <td>
                        [[card.media.desc]]
                    </td>
                    <td>
                        [[card.start.year]]/[[card.start.month]]/[[card.start.day]]
                    </td>
                    <td>
                        [[card.end.year]]/[[card.end.month]]/[[card.end.day]]
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="alert alert-warning" ng-if="project_list.length == 0">
                暂无timeline，请从右侧添加。
            </div>
        </div>

        <div class="col-xs-3 sider">
            <form class="form-horizontal" role="form" ng-submit="createCard()" ng-controller="CreateCardController">
                <div class="form-group">
                    <label for="inputCardTitle" class="col-sm-2 control-label">卡片名称</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="inputCardTitle" placeholder="卡片名称" ng-model="cardTitle">
                    </div>
                </div>

                <div class="form-group">
                    <label for="card_desc" class="col-sm-2 control-label">卡片描述</label>
                    <div class="col-sm-10">
                        <textarea id="card_desc" class="form-control" rows="3" placeholder="描述" ng-model="cardDesc"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="card_media_src" class="col-sm-2 control-label">卡片媒体源</label>
                    <div class="col-sm-10">
                        <textarea id="card_media_src" class="form-control" rows="3" placeholder="src" ng-model="cardMediaSrc"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="card_media_title" class="col-sm-2 control-label">卡片媒体标题</label>
                    <div class="col-sm-10">
                        <textarea id="card_media_title" class="form-control" rows="3" placeholder="title" ng-model="cardMediaTitle"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="card_media_desc" class="col-sm-2 control-label">卡片媒体描述</label>
                    <div class="col-sm-10">
                        <textarea id="card_media_desc" class="form-control" rows="3" placeholder="描述" ng-model="cardMediaDesc"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="年" ng-model="startYear">
                        <input type="text" class="form-control" placeholder="月" ng-model="startMonth">>
                        <input type="text" class="form-control" placeholder="日" ng-model="startDay">>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="结束年" ng-model="endYear">
                        <input type="text" class="form-control" placeholder="结束月" ng-model="endMonth">>
                        <input type="text" class="form-control" placeholder="结束日" ng-model="endDay">>
                    </div>
                </div>

                <button type="submit" class="btn btn-default">提交</button>
            </form>
        </div>
    </div>
</div>

<script>
    var project_id = '{{project._id}}';
</script>

</body>
</html>